{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = 'http://localhost:8080/myapp';\nexport const isEmptyOrNull = value => {\n  if (value === \"\" || value === null || value === undefined || value === \"undefined\") {\n    return true;\n  }\n\n  return false;\n};\nexport const request = async (url, method, data) => {\n  let headers = {\n    'accept': 'application/json',\n    'content-type': 'multipart/form-data'\n  };\n  let result = null;\n  const api = axios.create({\n    baseURL: API_URL,\n    header: headers,\n    responseType: \"json\"\n  });\n\n  if (result != null) {\n    return result;\n  } // if (token) {\n  //   header = {\n  //     Authorization: `Bearer ${token}`,\n  //     \"Content-Type\": \"application/json; multipart/form-data\",\n  //   };\n  // }\n\n\n  if (method.toLowerCase() === 'get') {\n    await api.get(url).then(res => {\n      result = res.data;\n      console.log(\"result\", result);\n      return result;\n    }).catch(err => {\n      result = err.response;\n      console.log(err.message, err.response);\n      console.log(err, err.response);\n    });\n  }\n\n  if (method.toLowerCase() === 'post') {\n    await api.post(url, data, {\n      onUploadProgress: progressEvent => {\n        console.log(`upload progress:${Math.round(progressEvent.loaded / progressEvent.total * 100)}%`);\n      }\n    }).then(res => {\n      result = res;\n    }).catch(err => {\n      result = err.response;\n      console.log(err.message, err.response);\n\n      if (err.message.includes(\"401\")) {\n        const {\n          data: {\n            msg\n          }\n        } = err.response;\n\n        if (!isEmptyOrNull(msg)) {\n          console.log(msg);\n        }\n      }\n\n      console.log(err, err.response);\n    });\n  }\n\n  if (method.toLowerCase() === 'put') {\n    await api.put(url, data).then(res => {\n      result = res;\n    }).catch(err => {\n      result = err.response;\n      console.log(err.message, err.response);\n      console.log(err, err.response);\n    });\n  }\n\n  if (method.toLowerCase() === 'delete') {\n    await api.delete(url, data).then(res => {\n      result = res;\n    }).catch(err => {\n      result = err.response;\n      console.log(err.message, err.response);\n      console.log(err, err.response);\n    });\n  }\n};","map":{"version":3,"sources":["/home/simo/react-google-keep/src/utils/core.utils.js"],"names":["axios","API_URL","isEmptyOrNull","value","undefined","request","url","method","data","headers","result","api","create","baseURL","header","responseType","toLowerCase","get","then","res","console","log","catch","err","response","message","post","onUploadProgress","progressEvent","Math","round","loaded","total","includes","msg","put","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,6BAAhB;AAEA,OAAO,MAAMC,aAAa,GAAIC,KAAD,IAAW;AACtC,MACEA,KAAK,KAAK,EAAV,IACAA,KAAK,KAAK,IADV,IAEAA,KAAK,KAAKC,SAFV,IAGAD,KAAK,KAAK,WAJZ,EAKE;AACA,WAAO,IAAP;AACD;;AACD,SAAO,KAAP;AACD,CAVM;AAYP,OAAO,MAAME,OAAO,GAAG,OAAOC,GAAP,EAAYC,MAAZ,EAAoBC,IAApB,KAA6B;AACnD,MAAIC,OAAO,GAAG;AACb,cAAU,kBADG;AAEb,oBAAgB;AAFH,GAAd;AAKC,MAAIC,MAAM,GAAG,IAAb;AAEA,QAAMC,GAAG,GAAGX,KAAK,CAACY,MAAN,CAAa;AACvBC,IAAAA,OAAO,EAAEZ,OADc;AAEvBa,IAAAA,MAAM,EAAEL,OAFe;AAGvBM,IAAAA,YAAY,EAAE;AAHS,GAAb,CAAZ;;AAQA,MAAIL,MAAM,IAAI,IAAd,EAAoB;AAClB,WAAOA,MAAP;AACD,GAlBiD,CAmBlD;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAIH,MAAM,CAACS,WAAP,OAAyB,KAA7B,EAAoC;AAClC,UAAML,GAAG,CACNM,GADG,CACCX,GADD,EAEHY,IAFG,CAEGC,GAAD,IAAS;AACbT,MAAAA,MAAM,GAAGS,GAAG,CAACX,IAAb;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBX,MAAtB;AACA,aAAOA,MAAP;AAED,KAPG,EAQHY,KARG,CAQIC,GAAD,IAAS;AACdb,MAAAA,MAAM,GAAGa,GAAG,CAACC,QAAb;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACE,OAAhB,EAAyBF,GAAG,CAACC,QAA7B;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,EAAiBA,GAAG,CAACC,QAArB;AACD,KAZG,CAAN;AAaD;;AAED,MAAIjB,MAAM,CAACS,WAAP,OAAyB,MAA7B,EAAqC;AACnC,UAAML,GAAG,CACNe,IADG,CACEpB,GADF,EACOE,IADP,EACa;AACfmB,MAAAA,gBAAgB,EAAGC,aAAD,IAAmB;AACnCR,QAAAA,OAAO,CAACC,GAAR,CACG,mBAAkBQ,IAAI,CAACC,KAAL,CAChBF,aAAa,CAACG,MAAd,GAAuBH,aAAa,CAACI,KAAtC,GAA+C,GAD9B,CAEjB,GAHJ;AAKD;AAPc,KADb,EAUHd,IAVG,CAUGC,GAAD,IAAS;AACbT,MAAAA,MAAM,GAAGS,GAAT;AACD,KAZG,EAaHG,KAbG,CAaIC,GAAD,IAAS;AACdb,MAAAA,MAAM,GAAGa,GAAG,CAACC,QAAb;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACE,OAAhB,EAAyBF,GAAG,CAACC,QAA7B;;AACA,UAAID,GAAG,CAACE,OAAJ,CAAYQ,QAAZ,CAAqB,KAArB,CAAJ,EAAiC;AAC/B,cAAM;AACJzB,UAAAA,IAAI,EAAE;AAAE0B,YAAAA;AAAF;AADF,YAEFX,GAAG,CAACC,QAFR;;AAGA,YAAI,CAACtB,aAAa,CAACgC,GAAD,CAAlB,EAAyB;AACvBd,UAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ;AACD;AACF;;AACDd,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,EAAiBA,GAAG,CAACC,QAArB;AACD,KAzBG,CAAN;AA0BD;;AAED,MAAIjB,MAAM,CAACS,WAAP,OAAyB,KAA7B,EAAoC;AAClC,UAAML,GAAG,CACNwB,GADG,CACC7B,GADD,EACME,IADN,EAEHU,IAFG,CAEGC,GAAD,IAAS;AACbT,MAAAA,MAAM,GAAGS,GAAT;AACD,KAJG,EAKHG,KALG,CAKIC,GAAD,IAAS;AACdb,MAAAA,MAAM,GAAGa,GAAG,CAACC,QAAb;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACE,OAAhB,EAAyBF,GAAG,CAACC,QAA7B;AAEAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,EAAiBA,GAAG,CAACC,QAArB;AACD,KAVG,CAAN;AAWD;;AAED,MAAIjB,MAAM,CAACS,WAAP,OAAyB,QAA7B,EAAuC;AACrC,UAAML,GAAG,CACNyB,MADG,CACI9B,GADJ,EACSE,IADT,EAEHU,IAFG,CAEGC,GAAD,IAAS;AACbT,MAAAA,MAAM,GAAGS,GAAT;AACD,KAJG,EAKHG,KALG,CAKIC,GAAD,IAAS;AACdb,MAAAA,MAAM,GAAGa,GAAG,CAACC,QAAb;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACE,OAAhB,EAAyBF,GAAG,CAACC,QAA7B;AAEAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,EAAiBA,GAAG,CAACC,QAArB;AACD,KAVG,CAAN;AAWD;AAIF,CAtGM","sourcesContent":["import axios from \"axios\";\n\nconst API_URL = 'http://localhost:8080/myapp';\n\nexport const isEmptyOrNull = (value) => {\n  if (\n    value === \"\" ||\n    value === null ||\n    value === undefined ||\n    value === \"undefined\"\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const request = async (url, method, data) => {\n let headers=  {\n  'accept': 'application/json',\n  'content-type': 'multipart/form-data'\n  \n}\n  let result = null;\n\n  const api = axios.create({\n    baseURL: API_URL,\n    header: headers,\n    responseType: \"json\",\n  });\n\n\n\n  if (result != null) {\n    return result;\n  }\n  // if (token) {\n  //   header = {\n  //     Authorization: `Bearer ${token}`,\n  //     \"Content-Type\": \"application/json; multipart/form-data\",\n  //   };\n  // }\n\n\n  if (method.toLowerCase() === 'get') {\n    await api\n      .get(url)\n      .then((res) => {\n        result = res.data;\n        console.log(\"result\", result);\n        return result;\n     \n      })\n      .catch((err) => {\n        result = err.response;\n        console.log(err.message, err.response);\n        console.log(err, err.response);\n      });\n  }\n\n  if (method.toLowerCase() === 'post') {\n    await api\n      .post(url, data, {\n        onUploadProgress: (progressEvent) => {\n          console.log(\n            `upload progress:${Math.round(\n              (progressEvent.loaded / progressEvent.total) * 100\n            )}%`\n          );\n        },\n      })\n      .then((res) => {\n        result = res;\n      })\n      .catch((err) => {\n        result = err.response;\n        console.log(err.message, err.response);\n        if (err.message.includes(\"401\")) {\n          const {\n            data: { msg },\n          } = err.response;\n          if (!isEmptyOrNull(msg)) {\n            console.log(msg);\n          }\n        }\n        console.log(err, err.response);\n      });\n  }\n\n  if (method.toLowerCase() === 'put') {\n    await api\n      .put(url, data)\n      .then((res) => {\n        result = res;\n      })\n      .catch((err) => {\n        result = err.response;\n        console.log(err.message, err.response);\n\n        console.log(err, err.response);\n      });\n  }\n\n  if (method.toLowerCase() === 'delete') {\n    await api\n      .delete(url, data)\n      .then((res) => {\n        result = res;\n      })\n      .catch((err) => {\n        result = err.response;\n        console.log(err.message, err.response);\n\n        console.log(err, err.response);\n      });\n  }\n\n  \n\n};\n"]},"metadata":{},"sourceType":"module"}